{"ast":null,"code":"import { withData } from \"next-apollo\";\nimport { HttpLink } from \"apollo-boost\";\nimport { setContext } from 'apollo-link-context';\nimport { getToken } from './auth';\nvar authLink = setContext(function (_, _ref) {\n  var cache = _ref.cache;\n  var token = getToken();\n  return {\n    headers: {\n      authorization: token ? \"Bearer \".concat(token) : ''\n    }\n  };\n});\nvar httpLink = new HttpLink({\n  uri: \"http://127.0.0.1:3001/graphql\",\n  // Server URL (must be absolute)\n  cors: {\n    origin: 'http://127.0.0.1:3000',\n    credentials: true\n  }\n});\nexport default withData(function () {\n  return {\n    link: authLink.concat(httpLink)\n  };\n});","map":null,"metadata":{},"sourceType":"module"}